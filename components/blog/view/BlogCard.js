import Link from "next/link";
// ูุงุฑุฏ ฺฉุฑุฏู ฺฉุงููพูููุช Link ุจุฑุง ููฺฉโ ุฏุงุฏู ุจู ุตูุญุงุช ุฏุงุฎู ุฏุฑ ุจุฑูุงูู ูฺฉุณุชโุฌโุงุณ

import "highlight.js/styles/monokai.css";
// ูุงุฑุฏ ฺฉุฑุฏู ุงุณุชุงูโ ฺฉุชุงุจุฎุงูู highlight.js ุจุง ุชู Monokai ุจุฑุง ููุงุด ฺฉุฏูุง ุฑูฺฏ ุฏุฑ ุจูุงฺฏ

import Image from "next/image";
// ูุงุฑุฏ ฺฉุฑุฏู ฺฉุงููพูููุช Image ุงุฒ ูฺฉุณุชโุฌโุงุณ ุจุฑุง ุจูููโุณุงุฒ ุจุงุฑฺฏุฐุงุฑ ุชุตุงูุฑ

import md from "@/utils/md";
// ูุงุฑุฏ ฺฉุฑุฏู ุชุงุจุน ุชุจุฏู Markdown ุจู HTML ุงุฒ ูุณุฑ ูุดุฎุตโุดุฏู

import dayjs from "dayjs"; 
// ูุงุฑุฏ ฺฉุฑุฏู ฺฉุชุงุจุฎุงูู dayjs ุจุฑุง ูุฏุฑุช ุชุงุฑุฎ ู ุฒูุงู

// ูุงุฑุฏ ฺฉุฑุฏู ุงูุฒูููโุง ุงุฒ dayjs ุจุฑุง ููุงุด ูุณุจ ุฒูุงู (ูุซูุงู "ฒ ุณุงุนุช ูพุด")
import relativeTime from "dayjs/plugin/relativeTime";
import "dayjs/locale/fa"; // ุงุถุงูู ฺฉุฑุฏู ุฒุจุงู ูุงุฑุณ

dayjs.extend(relativeTime);
dayjs.locale("fa");  // ุชูุธู ุฒุจุงู ุจู ูุงุฑุณ
// ูุนุงูโุณุงุฒ ุงูุฒููู ููุงุด ุฒูุงู ูุณุจ ุฏุฑ ฺฉุชุงุจุฎุงูู dayjs

// ุชุนุฑู ฺฉุงููพูููุช BlogCard ฺฉู ุงุทูุงุนุงุช ฺฉ ุจูุงฺฏ ุฑุง ุฏุฑ ูุงูุจ ฺฉ ฺฉุงุฑุช ููุงุด ูโุฏูุฏ
export default function BlogCard({ blog, page = "" }) {
  return (
    // ฺฉุงุฑุช ุงุตู ุจุง ฺฉูุงุณ Bootstrap ู ุงุนูุงู ุณุงูุ ูุงุตูู ุจุงูุงุ ุนุฑุถ ฺฉุงูู ู ุญุฏุงฺฉุซุฑ ุนุฑุถ ทฐฐ ูพฺฉุณู
    <div className="card mt-5 shadow mx-auto" style={{ maxWidth: "700px", padding: 0 }}>

      {/* ุจุฎุด ุชุตูุฑ ุดุงุฎุต ุจูุงฺฏ ุจุง ุงุฑุชูุงุน ุซุงุจุช ู ูพูุดุด ฺฉุงูู ุนุฑุถ ฺฉุงุฑุช */}
      <Link href={`/blog/${blog?.slug}`}>
        <div style={{ height: "250px", overflow: "hidden" }}>
          <Image
            src={blog?.featuredImage || "/images/default.jpeg"} // ุขุฏุฑุณ ุชุตูุฑ ุดุงุฎุต ุง ุชุตูุฑ ูพุดโูุฑุถ
            className="card-img-top" // ฺฉูุงุณ Bootstrap ุจุฑุง ุชูุธู ุธุงูุฑ ุชุตูุฑ ุจุงูุง ฺฉุงุฑุช
            width={500} // ุนุฑุถ ุชุตูุฑ (ุบุฑูุนุงู ุฏุฑ ุงู ุญุงูุช ฺูู style ุชุนู ุดุฏู)
            height={400} // ุงุฑุชูุงุน ุชุตูุฑ (ุบุฑูุนุงู ุฏุฑ ุงู ุญุงูุช ฺูู style ุชุนู ุดุฏู)
            style={{
              display: "block", // ููุงุด ุจูโุตูุฑุช ุจููฺฉ ุจุฑุง ุญุฐู ูุงุตูู ุงุถุงู ูพุงู
              objectFit: "cover", // ุจุฑุฏู ุชุตูุฑ ุจุฑุง ูพุฑ ฺฉุฑุฏู ฺฉู ูุงุจ ุจุฏูู ุชุบุฑ ูุณุจุช ุชุตูุฑ
              width: "100%", // ุชูุธู ุนุฑุถ ฺฉุงูู ูุณุจุช ุจู ูุงูุฏ
              height: "100%" // ุชูุธู ุงุฑุชูุงุน ฺฉุงูู
            }}
            alt={blog?.title} // ููุฏุงุฑ ุฌุงฺฏุฒู ุชุตูุฑ ุจุฑุง ุฏุณุชุฑุณโูพุฐุฑ
          />
        </div>
      </Link>

      {/* ุจุฎุด ุจุฏูู ฺฉุงุฑุช ุดุงูู ุนููุงู ู ุฎูุงุตู ูุชู ุจูุงฺฏ */}
      <div className="card-body px-9">
        {/* ูพุฏูฺฏ ุงูู ุณูุงุฑุด ุจุฑุง ูุงุตูู ููุงุณุจ ุงุฒ ฺูพ ู ุฑุงุณุช */}

        {/* ุนููุงู ุจูุงฺฏ ุจู ุตูุฑุช ููฺฉ ูุงุจู ฺฉูฺฉ ุจู ุตูุญู ุฌุฒุฆุงุช ุจูุงฺฏ */}
        <h3 className="card-title">
          <Link 
            className="link-underline link-underline-opacity-0 text-muted fw-bold" // ฺฉูุงุณโูุง Bootstrap ุจุฑุง ุงุณุชุงู ููฺฉ
            href={`${page}/blog/${blog?.slug}`} // ูุณุฑ ููฺฉ ุจู ุตูุญู ุจูุงฺฏ
          >
            {blog?.title} {/* ููุงุด ุนููุงู ุจูุงฺฏ */}
          </Link>
        </h3>

        {/* ููุงุด ุฎูุงุตู ูุญุชูุง ุจูุงฺฏ ุจูโุตูุฑุช HTML */}
        <div className="card-text">
          <div className="markdown-preview">
            <div
              dangerouslySetInnerHTML={{
                __html: blog?.excerpt || "", // ุชุจุฏู ูุญุชูุง Markdown ุจู HTML ู ูุฑุงุฑ ุฏุงุฏู ุฏุฑ ุตูุญู
              }}
            />
          </div>
        </div>
      </div>

      {/* ููุชุฑ ฺฉุงุฑุช ุจุฑุง ููุงุด ุชุนุฏุงุฏ ูุงฺฉโูุง ู ููุณูุฏู ุจุง ุฒูุงู ูุณุจ ุงูุชุดุงุฑ */}
      <div className="card-footer d-flex justify-content-between align-items-center px-4">
        <div>๐ 0 ููุฑ ูพุณูุฏุฏู</div> {/* ููุงุด ุชุนุฏุงุฏ ูุงฺฉโูุง */}
        <div className="text-muted text-end form-text">
          ๐ {dayjs(blog?.createdAt).fromNow()} {/* ููุงุด ุฒูุงู ูุณุจ ุงูุชุดุงุฑ ุจูุงฺฏ */}
          โ {blog?.postedBy?.name || "ุงุฏูู"} {/* ูุงู ููุณูุฏู ุง ูุงฺู ูพุดโูุฑุถ "ุงุฏูู" */}
        </div>
      </div>

      {/* ููุชุฑ ุฏูู ฺฉุงุฑุช ุจุฑุง ููุงุด ุจุฑฺุณุจโูุง (ุชฺฏโูุง) ุจูโุตูุฑุช ุฏฺฉููโูุง ฺฉูฺฺฉ */}
      <div className="card-footer d-flex px-4">
        {blog?.tags?.map((t) => (
          <Link
            className="btn btn-sm btn-secondary me-2" // ุฏฺฉูู Bootstrap ุจุง ุงูุฏุงุฒู ฺฉูฺฺฉ ู ุฑูฺฏ ุฏูู
            key={t?._id} // ฺฉูุฏ ฺฉุชุง ุจุฑุง ูุฑ ุชฺฏ
            href={`/tag/${t?.slug}`} // ููฺฉ ุจู ุตูุญู ูุฑุชุจุท ุจุง ุชฺฏ
          >
            {t?.name} {/* ููุงุด ูุงู ุชฺฏ */}
          </Link>
        ))}
      </div>
    </div>
  );
}


