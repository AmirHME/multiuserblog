// ุงุนูุงู ูโฺฉูู ฺฉู ุงู ูุงู ุจุงุฏ ุญุชูุงู ุฏุฑ ุณูุช ฺฉูุงูุช (ูุฑูุฑฺฏุฑ) ุงุฌุฑุง ุดูุฏ.
"use client";

// ูุงุฑุฏ ฺฉุฑุฏู ฺฉุงููพูููุช Link ุงุฒ ฺฉุชุงุจุฎุงูู Next.js ุจุฑุง ุงุฌุงุฏ ููฺฉโูุง ุฏุงุฎู ุจุฏูู ุฑูุฑุด ุตูุญู.
import Link from "next/link";

// ูุงุฑุฏ ฺฉุฑุฏู ฺฉุงููพูููุช ThemeToggle ุจุฑุง ูุฏุฑุช ุชุบุฑ ุชู (ุฑูุดู/ุชุงุฑฺฉ) ูพุฑูฺู.
import ThemeToggle from "@/components/theme/ThemeToggle";

// ูุงุฑุฏ ฺฉุฑุฏู ุชูุงุจุน useSession ู signOut ุงุฒ ฺฉุชุงุจุฎุงูู next-auth ุจุฑุง ุฏุฑุงูุช ูุถุนุช ฺฉุงุฑุจุฑ ู ุงูฺฉุงู ุฎุฑูุฌ ุงุฒ ุญุณุงุจ.
import { useSession, signOut } from "next-auth/react";

// ุชุนุฑู ฺฉุงููพูููุช TopNav ฺฉู ููู ุจุงูุง ุณุงุช ุฑุง ูโุณุงุฒุฏ.
export default function TopNav() {

  // ฺฏุฑูุชู ุงุทูุงุนุงุช ูุดุณุช ฺฉุงุฑุจุฑ ุดุงูู ุฏุงุฏูโูุง (data)ุ ูุถุนุช ูุดุณุช (status) ู ูุถุนุช ุจุงุฑฺฏุฐุงุฑ (loading).
  const { data, status, loading } = useSession();

  // ุจุงุฒฺฏุดุช (return) ฺฉุฏ JSX ุจุฑุง ููุงุด ุณุงุฎุชุงุฑ ูุงูุจุฑ ุฏุฑ ุตูุญู.
  return (
    // ุชฺฏ <nav> ุจุฑุง ุชุนุฑู ููุงุฑ ูุงูุจุฑ ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉูุงุณโูุง Bootstrap ุจุฑุง ุงุณุชุงูโุฏู.
    <nav className="nav shadow justify-content-between mb-5">

      {/* ุจุฎุด ุณูุช ฺูพ ููุงุฑ ููู */}
      <div className="d-flex align-items-center">

        {/* ููฺฉ ููฺฏู ุณุงุช ฺฉู ฺฉุงุฑุจุฑ ุฑุง ุจู ุตูุญู ุงุตู ูโุจุฑุฏ */}
        <Link className="nav-link mt-2" href="/">
          ๐
        </Link>

        {/* ููฺฉ ุซุงุจุช ุจุฑุง ููุดุชู ฺฉ ุจูุงฺฏ ุฌุฏุฏุ ฺฉู ููุดู ููุงุด ุฏุงุฏู ูโุดูุฏ */}
        <Link className="nav-link" href="/blog/create">
          ฺฉ ุจูุงฺฏ ุจููุณ
        </Link>
      </div>

      {/* ุจุฎุด ุณูุช ุฑุงุณุช ููุงุฑ ููู */}
      <div className="d-flex align-items-center">

        {/* ุงฺฏุฑ ฺฉุงุฑุจุฑ ูุงุฑุฏ ุดุฏู ุจุงุดุฏ (ูุถุนุช ูุดุณุช authenticated ุจุงุดุฏ) */}
        {status === "authenticated" ? (
          <>
            {/* ููุงุด ูุงู ฺฉุงุฑุจุฑ ุจู ุนููุงู ููฺฉ ุจู ุฏุงุดุจูุฑุฏ ฺฉุงุฑุจุฑ */}
            <Link className="nav-link" href="/dashboard/user">
              {data?.user?.name}
            </Link>

            {/* ุฏฺฉูู ุฎุฑูุฌ ฺฉู ุจุง ฺฉูฺฉ ุฑู ุขู ฺฉุงุฑุจุฑ ุงุฒ ุญุณุงุจ ุฎูุฏ ุฎุงุฑุฌ ูโุดูุฏ */}
            <a
              className="nav-link pointer"
              onClick={() => signOut({ callbackUrl: "/login" })}
            >
              ุฎุฑูุฌ
            </a>
          </>
        ) : (
          <>
            {/* ุงฺฏุฑ ฺฉุงุฑุจุฑ ูุงุฑุฏ ูุดุฏู ุจุงุดุฏุ ููฺฉโูุง ูุฑูุฏ ู ุซุจุช ูุงู ููุงุด ุฏุงุฏู ูโุดููุฏ */}
            <Link className="nav-link" href="/login">
              ูุฑูุฏ
            </Link>

            <Link className="nav-link" href="/register">
              ุซุจุช ูุงู
            </Link>
          </>
        )}

        {/* ุฏฺฉูู ุชุบุฑ ุชู (ุฑูุดู ุง ุชุงุฑฺฉ) ฺฉู ููุดู ุฏุฑ ฺฉูุงุฑ ููููุง ููุงุด ุฏุงุฏู ูโุดูุฏ */}
        <div className="ms-2">
          <ThemeToggle />
        </div>

      </div>

    </nav>    
  );
}
