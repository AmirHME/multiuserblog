"use client";                                  // ูุดุฎุต ูโฺฉูุฏ ุงู ฺฉุงููพูููุช ููุท ุฏุฑ ฺฉูุงูุช (ูุฑูุฑฺฏุฑ) ุงุฌุฑุง ุดูุฏ

import { useTheme } from "@/context/theme";   // ูุงุฑุฏ ฺฉุฑุฏู ููฺฉ ุณูุงุฑุด useTheme ุจุฑุง ุฏุณุชุฑุณ ุจู ุชู ู ุชุงุจุน ุชุบุฑ ุชู
import { useEffect, useState } from "react";  // ูุงุฑุฏ ฺฉุฑุฏู ููฺฉโูุง useEffect ู useState ุงุฒ React ุจุฑุง ูุฏุฑุช ุญุงูุช ู ุงุซุฑุงุช ุฌุงูุจ

export default function ThemeToggle() {       // ุชุนุฑู ฺฉุงููพูููุช ThemeToggle ุจุฑุง ุชุบุฑ ุญุงูุช ุชู
  const { theme, toggleTheme } = useTheme();  // ฺฏุฑูุชู ููุฏุงุฑ ูุนู ุชู ู ุชุงุจุน ุชุบุฑ ุชู ุงุฒ Context

  // ุชุนุฑู state ุจู ูุงู mounted ุจุฑุง ุจุฑุฑุณ ุงูฺฉู ฺฉุงููพูููุช ุฑู ฺฉูุงูุช ุฑูุฏุฑ ุดุฏู ุง ุฎุฑ
  const [mounted, setMounted] = useState(false);

  // useEffect ุจุง ุขุฑุงู ูุงุจุณุชฺฏ ุฎุงู ุจู ุงู ูุนู ฺฉู ููุท ุจุนุฏ ุงุฒ ุงููู ุฑูุฏุฑ ุงุฌุฑุง ูโุดูุฏ
  useEffect(() => {
    setMounted(true);                         // ูพุณ ุงุฒ ุฑูุฏุฑ ุงูููุ ููุฏุงุฑ mounted ุฑุง true ูโฺฉูุฏ ุชุง ูุดุงู ุฏูุฏ ฺฉุงููพูููุช ุขูุงุฏู ููุงุด ุงุณุช
  }, []);

  return (
    <>
      {mounted &&                             // ููุท ุฒูุงู ฺฉู mounted true ุงุณุชุ ุฏฺฉูู ููุงุด ุฏุงุฏู ูโุดูุฏ (ุจุฑุง ุฌููฺฏุฑ ุงุฒ ุฑูุฏุฑ ุณูุช ุณุฑูุฑ)
        <button className="nav-link" onClick={toggleTheme}>  {/* ุฏฺฉูู ุจุง ฺฉูุงุณ nav-link ฺฉู ุจุง ฺฉูฺฉุ ุชุงุจุน ุชุบุฑ ุชู ุงุฌุฑุง ูโุดูุฏ */}
          {theme === 'light' ? "๐" : "โ๏ธ"}  {/* ุงฺฏุฑ ุชู ุฑูุดู ุงุณุชุ ุขฺฉูู ูุงู ููุงุด ุฏุงุฏู ูโุดูุฏ ูฺฏุฑูู ุขฺฉูู ุฎูุฑุดุฏ */}
        </button>
      }
    </>
  );
}

